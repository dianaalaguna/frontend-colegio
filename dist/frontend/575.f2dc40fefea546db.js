"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[575],{8575:(Y,h,l)=>{l.r(h),l.d(h,{RegisterComponent:()=>y});var i=l(496),p=l(316),e=l(8559),v=l(5312),C=l(6443);let b=(()=>{class o{constructor(n){this.http=n,this.baseUrl=`${v.c.apiUrl}/userType`}getUserTypes(){return this.http.get(this.baseUrl)}static{this.\u0275fac=function(u){return new(u||o)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var F=l(4796),R=l(4615);const m=o=>({"is-invalid":o});function _(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"El correo es obligatorio."),e.k0s())}function j(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Formato de correo inv\xe1lido."),e.k0s())}function D(o,a){if(1&o&&(e.j41(0,"div",29),e.DNE(1,_,2,0,"div",30)(2,j,2,0,"div",30),e.k0s()),2&o){e.XpG();const n=e.sdS(11);e.R7$(),e.Y8G("ngIf",null==n.errors?null:n.errors.required),e.R7$(),e.Y8G("ngIf",null==n.errors?null:n.errors.email)}}function M(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"La contrase\xf1a es obligatoria."),e.k0s())}function I(o,a){1&o&&(e.j41(0,"div"),e.EFF(1," La contrase\xf1a debe tener al menos 6 caracteres. "),e.k0s())}function E(o,a){if(1&o&&(e.j41(0,"div",29),e.DNE(1,M,2,0,"div",30)(2,I,2,0,"div",30),e.k0s()),2&o){e.XpG();const n=e.sdS(17);e.R7$(),e.Y8G("ngIf",null==n.errors?null:n.errors.required),e.R7$(),e.Y8G("ngIf",null==n.errors?null:n.errors.minlength)}}function k(o,a){1&o&&(e.j41(0,"div",29),e.EFF(1," El nombre es obligatorio. "),e.k0s())}function T(o,a){1&o&&(e.j41(0,"div",29),e.EFF(1," El apellido es obligatorio. "),e.k0s())}function U(o,a){if(1&o&&(e.j41(0,"option",31),e.EFF(1),e.k0s()),2&o){const n=a.$implicit;e.Y8G("value",n._id),e.R7$(),e.SpI(" ",n.type," ")}}function S(o,a){1&o&&(e.j41(0,"div",29),e.EFF(1," Seleccione un tipo de usuario. "),e.k0s())}let y=(()=>{class o{constructor(n,u,t){this.userTypeService=n,this.authService=u,this.router=t,this.userTypes=[],this.formData={username:"",password:"",nombres:"",apellidos:"",telefono:"",tipoUsuario:null}}ngOnInit(){this.userTypeService.getUserTypes().subscribe({next:n=>{this.userTypes=n,n.length>0&&(this.formData.tipoUsuario=n[0]._id)},error:n=>{console.error("Error al cargar tipos de usuario:",n)}})}onSubmit(){this.authService.register(this.formData).subscribe({next:n=>{alert("Usuario registrado con \xe9xito"),this.router.navigate(["/login"])},error:n=>{console.error("Error al registrar usuario:",n),alert("Error al registrar. Verifica los datos.")}})}static{this.\u0275fac=function(u){return new(u||o)(e.rXU(b),e.rXU(F.u),e.rXU(R.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-register"]],standalone:!0,features:[e.aNF],decls:47,vars:28,consts:[["registroForm","ngForm"],["emailInput","ngModel"],["passwordInput","ngModel"],["nombresInput","ngModel"],["apellidosInput","ngModel"],["telefonoInput","ngModel"],["tipoUsuarioInput","ngModel"],[1,"container","mt-5",2,"max-width","500px"],[1,"card","shadow-sm"],[1,"card-body"],[1,"card-title","text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","email","id","username","name","username","required","","email","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","********",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["for","nombres",1,"form-label"],["type","text","id","nombres","name","nombres","required","",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["for","apellidos",1,"form-label"],["type","text","id","apellidos","name","apellidos","required","",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["for","telefono",1,"form-label"],["type","text","id","telefono","name","telefono","placeholder","Ej: 3001234567",1,"form-control",3,"ngModelChange","ngModel"],["for","tipoUsuario",1,"form-label"],["id","tipoUsuario","name","tipoUsuario","required","",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","w-100",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(u,t){if(1&u){const d=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"h3",10),e.EFF(4,"\u{1f4dd} Registro de Usuario"),e.k0s(),e.j41(5,"form",11,0),e.bIt("ngSubmit",function(){return e.eBV(d),e.Njj(t.onSubmit())}),e.j41(7,"div",12)(8,"label",13),e.EFF(9,"Correo electr\xf3nico"),e.k0s(),e.j41(10,"input",14,1),e.mxI("ngModelChange",function(r){return e.eBV(d),e.DH7(t.formData.username,r)||(t.formData.username=r),e.Njj(r)}),e.k0s(),e.DNE(12,D,3,2,"div",15),e.k0s(),e.j41(13,"div",12)(14,"label",16),e.EFF(15,"Contrase\xf1a"),e.k0s(),e.j41(16,"input",17,2),e.mxI("ngModelChange",function(r){return e.eBV(d),e.DH7(t.formData.password,r)||(t.formData.password=r),e.Njj(r)}),e.k0s(),e.DNE(18,E,3,2,"div",15),e.k0s(),e.j41(19,"div",12)(20,"label",18),e.EFF(21,"Nombres"),e.k0s(),e.j41(22,"input",19,3),e.mxI("ngModelChange",function(r){return e.eBV(d),e.DH7(t.formData.nombres,r)||(t.formData.nombres=r),e.Njj(r)}),e.k0s(),e.DNE(24,k,2,0,"div",15),e.k0s(),e.j41(25,"div",12)(26,"label",20),e.EFF(27,"Apellidos"),e.k0s(),e.j41(28,"input",21,4),e.mxI("ngModelChange",function(r){return e.eBV(d),e.DH7(t.formData.apellidos,r)||(t.formData.apellidos=r),e.Njj(r)}),e.k0s(),e.DNE(30,T,2,0,"div",15),e.k0s(),e.j41(31,"div",12)(32,"label",22),e.EFF(33,"Tel\xe9fono"),e.k0s(),e.j41(34,"input",23,5),e.mxI("ngModelChange",function(r){return e.eBV(d),e.DH7(t.formData.telefono,r)||(t.formData.telefono=r),e.Njj(r)}),e.k0s()(),e.j41(36,"div",12)(37,"label",24),e.EFF(38,"Tipo de Usuario"),e.k0s(),e.j41(39,"select",25,6),e.mxI("ngModelChange",function(r){return e.eBV(d),e.DH7(t.formData.tipoUsuario,r)||(t.formData.tipoUsuario=r),e.Njj(r)}),e.j41(41,"option",26),e.EFF(42,"Seleccione un tipo"),e.k0s(),e.DNE(43,U,2,2,"option",27),e.k0s(),e.DNE(44,S,2,0,"div",15),e.k0s(),e.j41(45,"button",28),e.EFF(46," Registrarse "),e.k0s()()()()()}if(2&u){const d=e.sdS(6),s=e.sdS(11),r=e.sdS(17),g=e.sdS(23),c=e.sdS(29),f=e.sdS(40);e.R7$(10),e.R50("ngModel",t.formData.username),e.Y8G("ngClass",e.eq3(18,m,s.invalid&&s.touched)),e.R7$(2),e.Y8G("ngIf",s.invalid&&s.touched),e.R7$(4),e.R50("ngModel",t.formData.password),e.Y8G("ngClass",e.eq3(20,m,r.invalid&&r.touched)),e.R7$(2),e.Y8G("ngIf",r.invalid&&r.touched),e.R7$(4),e.R50("ngModel",t.formData.nombres),e.Y8G("ngClass",e.eq3(22,m,g.invalid&&g.touched)),e.R7$(2),e.Y8G("ngIf",g.invalid&&g.touched),e.R7$(4),e.R50("ngModel",t.formData.apellidos),e.Y8G("ngClass",e.eq3(24,m,c.invalid&&c.touched)),e.R7$(2),e.Y8G("ngIf",c.invalid&&c.touched),e.R7$(4),e.R50("ngModel",t.formData.telefono),e.R7$(5),e.R50("ngModel",t.formData.tipoUsuario),e.Y8G("ngClass",e.eq3(26,m,f.invalid&&f.touched)),e.R7$(4),e.Y8G("ngForOf",t.userTypes),e.R7$(),e.Y8G("ngIf",f.invalid&&f.touched),e.R7$(),e.Y8G("disabled",d.invalid)}},dependencies:[p.MD,p.YU,p.Sq,p.bT,i.YN,i.qT,i.xH,i.y7,i.me,i.wz,i.BC,i.cb,i.YS,i.xh,i.Dg,i.vS,i.cV],styles:["select.form-control[_ngcontent-%COMP%]{appearance:auto;-webkit-appearance:auto;-moz-appearance:auto}\n\n/*# sourceMappingURL=register.component.css.map*/"]})}}return o})()}}]);
//# sourceMappingURL=575.f2dc40fefea546db.js.map
{"version":3,"file":"167.25510fd23b3f7545.js","mappings":"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","names":["i0","_r1","ctx_r1","resetBusqueda","$event","student_r4","_r3","$implicit","editCache","codigoEstudiante","nombres","onChange","apellidos","correoTutor","nacimiento","saveChanges","deleteUser","hasChanges","EstudiantesListaComponent","constructor","studentService","this","estudiantes","busquedaEmailTutor","ngOnInit","loadEstudiantes","getStudents","subscribe","next","students","inicializarEditCache","error","err","console","buscarEstudiante","trim","getStudentsByEmail","forEach","student","JSON","stringify","find","field","value","updatedStudent","log","updateStudent","window","confirm","i1","selectors","standalone","features","decls","vars","consts","template","rf","ctx","EstudiantesListaComponent_button_8_Template","EstudiantesListaComponent_tr_25_Template","EstudiantesListaComponent_div_26_Template","length","FormsModule","i2","HttpClientModule","CommonModule","i3"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./src/app/pages/estudiantes-lista/estudiantes-lista.component.html","./src/app/pages/estudiantes-lista/estudiantes-lista.component.ts"],"sourcesContent":["<div class=\"container mt-4\">\r\n  <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n    <h2>ðŸ‘¥ Lista de Estudiantes</h2>\r\n\r\n    <div class=\"input-group\" style=\"width: 300px;\">\r\n      <input type=\"email\" [(ngModel)]=\"busquedaEmailTutor\" class=\"form-control\" placeholder=\"Buscar por email\">\r\n      <button class=\"btn btn-primary\" (click)=\"buscarEstudiante()\">Buscar</button>\r\n      <button class=\"btn btn-secondary\" *ngIf=\"busquedaEmailTutor\" (click)=\"resetBusqueda()\">Limpiar</button>\r\n    </div>\r\n  </div>\r\n\r\n  <table class=\"table table-bordered table-hover\">\r\n    <thead class=\"table-dark\">\r\n      <tr>\r\n        <th>CÃ³digo</th>\r\n        <th>Nombres</th>\r\n        <th>Apellidos</th>\r\n        <th>E-Mail tutor</th>\r\n        <th>CumpleaÃ±os</th>\r\n        <th>Acciones</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let student of estudiantes\">\r\n        <td>\r\n          <input class=\"form-control\" [(ngModel)]=\"editCache[student.codigoEstudiante].codigoEstudiante\" readonly>\r\n        </td>\r\n        <td>\r\n          <input class=\"form-control\" [(ngModel)]=\"editCache[student.codigoEstudiante].nombres\" (input)=\"onChange(student.codigoEstudiante, 'nombres', editCache[student.codigoEstudiante].nombres)\">\r\n        </td>\r\n        <td>\r\n          <input class=\"form-control\" [(ngModel)]=\"editCache[student.codigoEstudiante].apellidos\" (input)=\"onChange(student.codigoEstudiante, 'apellidos', editCache[student.codigoEstudiante].apellidos)\">\r\n        </td>\r\n        <td>\r\n          <input class=\"form-control\" [(ngModel)]=\"editCache[student.codigoEstudiante].correoTutor\" (input)=\"onChange(student.codigoEstudiante, 'correoTutor', editCache[student.codigoEstudiante].correoTutor)\">\r\n        </td>\r\n        <td>\r\n          <input class=\"form-control\" [(ngModel)]=\"editCache[student.codigoEstudiante].nacimiento\" readonly>\r\n        </td>\r\n        <td>\r\n          <button class=\"btn btn-success btn-sm me-2\" [disabled]=\"!hasChanges(student.codigoEstudiante)\" (click)=\"saveChanges(student.codigoEstudiante)\">Guardar</button>\r\n          <button class=\"btn btn-danger btn-sm\" (click)=\"deleteUser(student.codigoEstudiante)\">Eliminar</button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <div *ngIf=\"estudiantes.length === 0\" class=\"alert alert-warning text-center\">\r\n    No se encontraron estudiantes.\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { CommonModule } from '@angular/common';\r\nimport { StudentService } from '../../services/student.service';\r\nimport { Student } from '../../models/student.model';\r\n\r\n@Component({\r\n  selector: 'app-estudiantes-lista',\r\n  standalone: true,\r\n  imports: [FormsModule, HttpClientModule, CommonModule],\r\n  templateUrl: './estudiantes-lista.component.html',\r\n  styleUrl: './estudiantes-lista.component.css'\r\n})\r\nexport class EstudiantesListaComponent implements OnInit {\r\n  estudiantes: Student[] = [];\r\n  editCache: { [key: string]: Student } = {};\r\n  busquedaEmailTutor: string = '';\r\n\r\n  constructor(private studentService: StudentService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadEstudiantes();\r\n  }\r\n\r\n  loadEstudiantes(): void {\r\n    this.studentService.getStudents().subscribe({\r\n      next: (students) => {\r\n        this.estudiantes = students;\r\n        this.inicializarEditCache();\r\n      },\r\n      error: (err) => {\r\n        console.error('Error al cargar los estudiantes', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  buscarEstudiante(): void {\r\n    const correoTutor = this.busquedaEmailTutor.trim();\r\n    if (!correoTutor) return;\r\n\r\n    this.studentService.getStudentsByEmail(correoTutor).subscribe({\r\n      next: (students) => {\r\n        this.estudiantes = students;\r\n        this.inicializarEditCache();\r\n      },\r\n      error: (err) => {\r\n        console.error('Usuario no encontrado', err);\r\n        this.estudiantes = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  inicializarEditCache(): void {\r\n    this.editCache = {};\r\n    this.estudiantes.forEach(student => {\r\n      this.editCache[student.codigoEstudiante] = { ...student };\r\n    });\r\n  }\r\n\r\n  hasChanges(codigoEstudiante: string): boolean {\r\n    return JSON.stringify(this.editCache[codigoEstudiante]) !== JSON.stringify(this.estudiantes.find(student => student.codigoEstudiante === codigoEstudiante));\r\n  }\r\n\r\n  onChange(codigoEstudiante: string, field: 'codigoEstudiante' | 'nombres' | 'apellidos' | 'correoTutor', value: any): void {\r\n    if (this.editCache[codigoEstudiante]) {\r\n      this.editCache[codigoEstudiante][field] = value;\r\n    }\r\n  }\r\n\r\n  saveChanges(codigoEstudiante: string): void {\r\n    const updatedStudent = this.editCache[codigoEstudiante];\r\n    console.log('Guardando estudiante:', updatedStudent);\r\n    this.studentService.updateStudent(codigoEstudiante, updatedStudent).subscribe({\r\n      next: () => {\r\n        console.log('Estudiante actualizado');\r\n        this.loadEstudiantes();\r\n      },\r\n      error: (err) => {\r\n        console.error('Error al guardar los cambios', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteUser(codigoEstudiante: string): void {\r\n    const confirmacion = window.confirm('Â¿EstÃ¡s seguro de que deseas eliminar este estudiante?');\r\n    if (!confirmacion) return;\r\n\r\n    this.studentService.deleteUser(codigoEstudiante).subscribe({\r\n      next: () => {\r\n        console.log('Usuario eliminado');\r\n        this.loadEstudiantes();\r\n      },\r\n      error: (err) => {\r\n        console.error('Error al eliminar el usuario', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  resetBusqueda(): void {\r\n    this.busquedaEmailTutor = '';\r\n    this.loadEstudiantes();\r\n  }\r\n}\r\n\r\n"],"x_google_ignoreList":[]}
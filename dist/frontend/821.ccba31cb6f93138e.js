"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[821],{9821:(f,l,i)=>{i.r(l),i.d(l,{SubjectUpdateComponent:()=>j});var c=i(177),d=i(1069),s=i(4341),e=i(4438),p=i(6126);const m=(a,u)=>({"alert-success":a,"alert-danger":u});function g(a,u){if(1&a&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&a){const t=e.XpG(2);e.Y8G("ngClass",e.l_i(2,m,t.updateMessage.includes("\xe9xito"),t.updateMessage.includes("error"))),e.R7$(),e.SpI(" ",t.updateMessage," ")}}function _(a,u){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"form",4),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onSubmit())}),e.j41(2,"div",5)(3,"label",6),e.EFF(4,"Nombre"),e.k0s(),e.j41(5,"input",7),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.subject.nombre,o)||(r.subject.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(6,"div",5)(7,"label",8),e.EFF(8,"Grado"),e.k0s(),e.j41(9,"input",9),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.subject.grado,o)||(r.subject.grado=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",5)(11,"label",10),e.EFF(12,"Periodo"),e.k0s(),e.j41(13,"input",11),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.subject.periodo,o)||(r.subject.periodo=o),e.Njj(o)}),e.k0s()(),e.j41(14,"button",12),e.EFF(15,"Actualizar"),e.k0s()(),e.DNE(16,g,2,5,"div",13),e.k0s()}if(2&a){const t=e.XpG();e.R7$(5),e.R50("ngModel",t.subject.nombre),e.R7$(4),e.R50("ngModel",t.subject.grado),e.R7$(4),e.R50("ngModel",t.subject.periodo),e.R7$(3),e.Y8G("ngIf",t.updateMessage)}}function b(a,u){1&a&&(e.j41(0,"p"),e.EFF(1,"Cargando la materia..."),e.k0s())}let j=(()=>{class a{constructor(t,n,o){this.subjectService=t,this.route=n,this.router=o,this.subject=null,this.updateMessage=null}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.subjectService.getSubjectById(t).subscribe(n=>{this.subject=n},n=>{console.error("Error al cargar la materia",n)})}onSubmit(){if(this.subject){const t=this.route.snapshot.paramMap.get("id");t&&this.subjectService.updateSubject(t,this.subject).subscribe(n=>{this.updateMessage="Materia actualizada con \xe9xito!",setTimeout(()=>this.router.navigate(["/subject-list"]),1e3)},n=>{this.updateMessage="Hubo un error al actualizar la materia.",console.error("Error al actualizar materia",n)})}}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(p.M),e.rXU(d.nX),e.rXU(d.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-subject-update"]],standalone:!0,features:[e.aNF],decls:6,vars:2,consts:[["loading",""],[1,"container","mt-4"],[1,"mb-4"],[4,"ngIf","ngIfElse"],[3,"ngSubmit"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","grado",1,"form-label"],["type","text","id","grado","name","grado","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","periodo",1,"form-label"],["type","number","id","periodo","name","periodo","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","mt-4 alert",3,"ngClass",4,"ngIf"],[1,"mt-4","alert",3,"ngClass"]],template:function(n,o){if(1&n&&(e.j41(0,"div",1)(1,"h2",2),e.EFF(2,"\u{1f4da} Editar Materia"),e.k0s(),e.DNE(3,_,17,4,"div",3)(4,b,2,0,"ng-template",null,0,e.C5r),e.k0s()),2&n){const r=e.sdS(5);e.R7$(3),e.Y8G("ngIf",o.subject)("ngIfElse",r)}},dependencies:[c.MD,c.YU,c.bT,d.iI,s.YN,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.vS,s.cV]})}}return a})()}}]);
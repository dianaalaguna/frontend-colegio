"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[279],{2279:(h,o,r)=>{r.r(o),r.d(o,{SubjectListComponent:()=>E});var c=r(316),l=r(4615),t=r(8559),u=r(6126);const d=s=>["/subject-detail",s],b=s=>["/subject-update",s];function j(s,a){if(1&s){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"a",7),t.EFF(3),t.k0s()(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td")(9,"a",8),t.EFF(10," Editar "),t.k0s(),t.j41(11,"button",9),t.bIt("click",function(){const n=t.eBV(e).$implicit,f=t.XpG();return t.Njj(f.deleteSubject(n._id))}),t.EFF(12," Eliminar "),t.k0s()()()}if(2&s){const e=a.$implicit;t.R7$(2),t.Y8G("routerLink",t.eq3(5,d,e._id)),t.R7$(),t.SpI(" ",e.nombre," "),t.R7$(2),t.JRh(e.grado),t.R7$(2),t.JRh(e.periodo),t.R7$(2),t.Y8G("routerLink",t.eq3(7,b,e._id))}}function m(s,a){1&s&&(t.j41(0,"div",10),t.EFF(1," No hay materias registradas. "),t.k0s())}function _(s,a){if(1&s&&(t.j41(0,"div",11),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",e.deleteMessage," ")}}let E=(()=>{class s{constructor(e){this.subjectService=e,this.subjects=[],this.deleteMessage=null}ngOnInit(){this.loadSubjects()}loadSubjects(){this.subjectService.getSubjectsWithUsers().subscribe(e=>{this.subjects=e})}deleteSubject(e){window.confirm("\xbfEst\xe1s seguro de que deseas eliminar esta materia?")&&this.subjectService.deleteSubject(e).subscribe({next:()=>{this.subjects=this.subjects.filter(n=>n._id!==e),this.deleteMessage="La materia ha sido eliminada correctamente.",setTimeout(()=>{this.deleteMessage=null},3e3)},error:n=>{console.error("Error al eliminar materia:",n),alert("Ocurri\xf3 un error al eliminar la materia.")}})}static{this.\u0275fac=function(i){return new(i||s)(t.rXU(u.M))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-subject-list"]],standalone:!0,features:[t.aNF],decls:18,vars:3,consts:[[1,"container","mt-4"],[1,"mb-4"],[1,"table","table-bordered","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],["class","alert alert-info text-center",4,"ngIf"],["class","alert alert-success mt-4",4,"ngIf"],[1,"text-decoration-none",3,"routerLink"],[1,"btn","btn-success","btn-sm","me-2",3,"routerLink"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"alert","alert-info","text-center"],[1,"alert","alert-success","mt-4"]],template:function(i,n){1&i&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2,"\u{1f4da} Materias"),t.k0s(),t.j41(3,"table",2)(4,"thead",3)(5,"tr")(6,"th"),t.EFF(7,"Nombre"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Grado"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Periodo"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Acciones"),t.k0s()()(),t.j41(14,"tbody"),t.DNE(15,j,13,9,"tr",4),t.k0s()(),t.DNE(16,m,2,0,"div",5)(17,_,2,1,"div",6),t.k0s()),2&i&&(t.R7$(15),t.Y8G("ngForOf",n.subjects),t.R7$(),t.Y8G("ngIf",0===n.subjects.length),t.R7$(),t.Y8G("ngIf",n.deleteMessage))},dependencies:[c.MD,c.Sq,c.bT,l.iI,l.Wk],encapsulation:2})}}return s})()}}]);
//# sourceMappingURL=279.62dc68ab4336cc15.js.map
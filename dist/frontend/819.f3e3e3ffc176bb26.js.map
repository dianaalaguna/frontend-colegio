{"version":3,"file":"819.f3e3e3ffc176bb26.js","mappings":"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","names":["i0","_r1","ctx_r1","resetBusqueda","$event","user_r4","_r3","$implicit","editCache","username","nombres","onChange","apellidos","telefono","saveChanges","deleteUser","hasChanges","UsuariosComponent","constructor","userService","this","usuarios","busquedaUsername","ngOnInit","loadUsuarios","getUsers","subscribe","next","users","inicializarEditCache","error","err","console","buscarUsuario","trim","getUserByUsername","user","forEach","JSON","stringify","find","field","value","updateUser","log","window","confirm","i1","selectors","standalone","features","decls","vars","consts","template","rf","ctx","UsuariosComponent_button_8_Template","UsuariosComponent_tr_23_Template","UsuariosComponent_div_24_Template","length","FormsModule","i2","HttpClientModule","CommonModule","i3"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./src/app/pages/usuarios/usuarios.component.html","./src/app/pages/usuarios/usuarios.component.ts"],"sourcesContent":["<div class=\"container mt-4\">\r\n  <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n    <h2>ðŸ‘¥ Lista de Usuarios</h2>\r\n\r\n    <div class=\"input-group\" style=\"width: 300px;\">\r\n      <input type=\"email\" [(ngModel)]=\"busquedaUsername\" class=\"form-control\" placeholder=\"Buscar por email\">\r\n      <button class=\"btn btn-primary\" (click)=\"buscarUsuario()\">Buscar</button>\r\n      <button class=\"btn btn-secondary\" *ngIf=\"busquedaUsername\" (click)=\"resetBusqueda()\">Limpiar</button>\r\n    </div>\r\n  </div>\r\n\r\n  <table class=\"table table-bordered table-hover\">\r\n    <thead class=\"table-dark\">\r\n      <tr>\r\n        <th>Nombres</th>\r\n        <th>Apellidos</th>\r\n        <th>TelÃ©fono</th>\r\n        <th>E-Mail</th>\r\n        <th>Acciones</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let user of usuarios\">\r\n        <td>\r\n          <input class=\"form-control\" [(ngModel)]=\"editCache[user.username].nombres\" (input)=\"onChange(user.username, 'nombres', editCache[user.username].nombres)\">\r\n        </td>\r\n        <td>\r\n          <input class=\"form-control\" [(ngModel)]=\"editCache[user.username].apellidos\" (input)=\"onChange(user.username, 'apellidos', editCache[user.username].apellidos)\">\r\n        </td>\r\n        <td>\r\n          <input class=\"form-control\" [(ngModel)]=\"editCache[user.username].telefono\" (input)=\"onChange(user.username, 'telefono', editCache[user.username].telefono)\">\r\n        </td>\r\n        <td>\r\n          <input class=\"form-control\" [(ngModel)]=\"editCache[user.username].username\" readonly>\r\n        </td>\r\n        <td>\r\n          <button class=\"btn btn-success btn-sm me-2\" [disabled]=\"!hasChanges(user.username)\" (click)=\"saveChanges(user.username)\">Guardar</button>\r\n          <button class=\"btn btn-danger btn-sm\" (click)=\"deleteUser(user.username)\">Eliminar</button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <div *ngIf=\"usuarios.length === 0\" class=\"alert alert-warning text-center\">\r\n    No se encontraron usuarios.\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { CommonModule } from '@angular/common';\r\nimport { UserService } from '../../services/user.service';\r\nimport { User } from '../../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-usuarios',\r\n  standalone: true,\r\n  imports: [FormsModule, HttpClientModule, CommonModule],\r\n  templateUrl: './usuarios.component.html',\r\n  styleUrls: ['./usuarios.component.css']\r\n})\r\nexport class UsuariosComponent implements OnInit {\r\n  usuarios: User[] = [];\r\n  editCache: { [key: string]: User } = {};\r\n  busquedaUsername: string = '';\r\n\r\n  constructor(private userService: UserService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadUsuarios();\r\n  }\r\n\r\n  loadUsuarios(): void {\r\n    this.userService.getUsers().subscribe({\r\n      next: (users) => {\r\n        this.usuarios = users;\r\n        this.inicializarEditCache();\r\n      },\r\n      error: (err) => {\r\n        console.error('Error al cargar los usuarios', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  buscarUsuario(): void {\r\n    const username = this.busquedaUsername.trim();\r\n    if (!username) return;\r\n\r\n    this.userService.getUserByUsername(username).subscribe({\r\n      next: (user) => {\r\n        this.usuarios = [user];\r\n        this.inicializarEditCache();\r\n      },\r\n      error: (err) => {\r\n        console.error('Usuario no encontrado', err);\r\n        this.usuarios = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  inicializarEditCache(): void {\r\n    this.editCache = {};\r\n    this.usuarios.forEach(user => {\r\n      this.editCache[user.username] = { ...user };\r\n    });\r\n  }\r\n\r\n  hasChanges(username: string): boolean {\r\n    return JSON.stringify(this.editCache[username]) !== JSON.stringify(this.usuarios.find(user => user.username === username));\r\n  }\r\n\r\n  onChange(username: string, field: 'nombres' | 'apellidos' | 'telefono' | 'username', value: any): void {\r\n    if (this.editCache[username]) {\r\n      this.editCache[username][field] = value;\r\n    }\r\n  }\r\n\r\n  saveChanges(username: string): void {\r\n    const updatedUser = this.editCache[username];\r\n    this.userService.updateUser(username, updatedUser).subscribe({\r\n      next: () => {\r\n        console.log('Usuario actualizado');\r\n        this.loadUsuarios();\r\n      },\r\n      error: (err) => {\r\n        console.error('Error al guardar los cambios', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteUser(username: string): void {\r\n    const confirmacion = window.confirm('Â¿EstÃ¡s seguro de que deseas eliminar este usuario?');\r\n    if (!confirmacion) return;\r\n\r\n    this.userService.deleteUser(username).subscribe({\r\n      next: () => {\r\n        console.log('Usuario eliminado');\r\n        this.loadUsuarios();\r\n      },\r\n      error: (err) => {\r\n        console.error('Error al eliminar el usuario', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  resetBusqueda(): void {\r\n    this.busquedaUsername = '';\r\n    this.loadUsuarios();\r\n  }\r\n}\r\n\r\n"],"x_google_ignoreList":[]}
import{a as N}from"./chunk-2SRB5VGG.js";import{a as D,b as W,c as q,d as k,e as j,f as R,k as A,l as B,m as P,n as G}from"./chunk-KCB7IB6P.js";import{d as V,h as T}from"./chunk-A7GR7GC6.js";import"./chunk-K7YZQKDG.js";import{$a as h,Bb as E,Db as L,Eb as F,Ia as g,Ka as a,Ma as n,Na as t,Pa as I,Qa as M,Ra as C,Va as p,Wa as l,Z as b,ab as w,bb as S,db as x,eb as y,ga as f,ha as v,va as o,wa as _}from"./chunk-ZTNMYY3J.js";var J=e=>({"is-invalid":e});function O(e,u){e&1&&(n(0,"div"),l(1,"El correo es obligatorio."),t())}function z(e,u){e&1&&(n(0,"div"),l(1,"Formato de correo inv\xE1lido."),t())}function H(e,u){if(e&1&&(n(0,"div",15),g(1,O,2,0,"div",16)(2,z,2,0,"div",16),t()),e&2){C();let i=p(11);o(),a("ngIf",i.errors==null?null:i.errors.required),o(),a("ngIf",i.errors==null?null:i.errors.email)}}function K(e,u){e&1&&(n(0,"div"),l(1,"La contrase\xF1a es obligatoria."),t())}function Q(e,u){e&1&&(n(0,"div"),l(1," La contrase\xF1a debe tener al menos 6 caracteres. "),t())}function U(e,u){if(e&1&&(n(0,"div",15),g(1,K,2,0,"div",16)(2,Q,2,0,"div",16),t()),e&2){C();let i=p(17);o(),a("ngIf",i.errors==null?null:i.errors.required),o(),a("ngIf",i.errors==null?null:i.errors.minlength)}}var re=(()=>{class e{constructor(i,m){this.authService=i,this.router=m,this.username="",this.password=""}onSubmit(){this.authService.login({username:this.username,password:this.password}).subscribe({next:i=>{sessionStorage.setItem("auth_token",i.token),sessionStorage.setItem("user",JSON.stringify(i.user)),this.router.navigate(["/acercade"])},error:i=>{alert("Credenciales inv\xE1lidas")}})}static{this.\u0275fac=function(m){return new(m||e)(_(N),_(V))}}static{this.\u0275cmp=b({type:e,selectors:[["app-login"]],standalone:!0,features:[x],decls:21,vars:11,consts:[["loginForm","ngForm"],["emailInput","ngModel"],["passwordInput","ngModel"],[1,"container","mt-5",2,"max-width","400px"],[1,"card","shadow-sm"],[1,"card-body"],[1,"card-title","text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","email","id","username","name","username","required","","email","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","********",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(m,s){if(m&1){let c=I();n(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3",6),l(4,"\u{1F510} Iniciar sesi\xF3n"),t(),n(5,"form",7,0),M("ngSubmit",function(){return f(c),v(s.onSubmit())}),n(7,"div",8)(8,"label",9),l(9,"Correo electr\xF3nico"),t(),n(10,"input",10,1),S("ngModelChange",function(r){return f(c),w(s.username,r)||(s.username=r),v(r)}),t(),g(12,H,3,2,"div",11),t(),n(13,"div",8)(14,"label",12),l(15,"Contrase\xF1a"),t(),n(16,"input",13,2),S("ngModelChange",function(r){return f(c),w(s.password,r)||(s.password=r),v(r)}),t(),g(18,U,3,2,"div",11),t(),n(19,"button",14),l(20,"Ingresar"),t()()()()()}if(m&2){let c=p(6),d=p(11),r=p(17);o(10),h("ngModel",s.username),a("ngClass",y(7,J,d.invalid&&d.touched)),o(2),a("ngIf",d.invalid&&d.touched),o(4),h("ngModel",s.password),a("ngClass",y(9,J,r.invalid&&r.touched)),o(2),a("ngIf",r.invalid&&r.touched),o(),a("disabled",c.invalid)}},dependencies:[T,G,R,D,W,q,A,P,B,j,k,F,E,L],encapsulation:2})}}return e})();export{re as LoginComponent};

{"version":3,"file":"629.a551e02c35996895.js","mappings":"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","names":["i0","prof_r2","_r1","$implicit","ctx_r2","desvincularProfesor","_id","nombres","apellidos","username","est_r5","_r4","desvincularEstudiante","codigoEstudiante","SubjectDetailComponent_div_0_tr_28_Template","SubjectDetailComponent_div_0_div_29_Template","SubjectDetailComponent_div_0_tr_45_Template","SubjectDetailComponent_div_0_div_46_Template","subject","nombre","grado","periodo","profesores","length","estudiantes","SubjectDetailComponent","constructor","route","subjectService","this","ngOnInit","id","snapshot","paramMap","get","getSubjectById","subscribe","estudianteId","confirm","removeEstudianteFromSubject","next","filter","est","error","err","console","alert","profesorId","removeProfesorFromSubject","prof","i1","i2","selectors","standalone","features","decls","vars","consts","template","rf","ctx","SubjectDetailComponent_div_0_Template","SubjectDetailComponent_ng_template_1_Template","loading_r6","CommonModule","i3","RouterModule","encapsulation"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./src/app/pages/subject-detail/subject-detail.component.html","./src/app/pages/subject-detail/subject-detail.component.ts"],"sourcesContent":["<div class=\"container mt-4\" *ngIf=\"subject; else loading\">\r\n  <div class=\"mb-4\">\r\n    <h2 class=\"mb-1\">{{ subject.nombre }}</h2>\r\n    <p class=\"text-muted\">\r\n      Grado: <strong>{{ subject.grado }}</strong> |\r\n      Periodo: <strong>{{ subject.periodo }}</strong>\r\n    </p>\r\n    <a routerLink=\"/subject-list\" class=\"btn btn-outline-secondary btn-sm\">‚Üê Volver al listado</a>\r\n  </div>\r\n\r\n  <div class=\"mb-4\">\r\n    <h4>üë®‚Äçüè´ Profesor/es asignado/s</h4>\r\n    <table class=\"table table-bordered table-hover\">\r\n      <thead class=\"table-light\">\r\n        <tr>\r\n          <th>Nombres</th>\r\n          <th>Apellidos</th>\r\n          <th>Usuario</th>\r\n          <th>Acciones</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let prof of subject.profesores\">\r\n          <td>{{ prof.nombres }}</td>\r\n          <td>{{ prof.apellidos }}</td>\r\n          <td>{{ prof.username }}</td>\r\n          <td>\r\n            <button class=\"btn btn-danger btn-sm\" (click)=\"desvincularProfesor(prof._id)\">\r\n              Desvincular\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div *ngIf=\"subject.profesores.length === 0\" class=\"alert alert-warning text-center\">\r\n      No hay profesores asignados a esta materia.\r\n    </div>\r\n  </div>\r\n\r\n  <div>\r\n    <h4 class=\"mb-3\">üë®‚Äçüéì Estudiantes</h4>\r\n\r\n    <table class=\"table table-bordered table-hover\">\r\n      <thead class=\"table-light\">\r\n        <tr>\r\n          <th>C√≥digo</th>\r\n          <th>Nombres</th>\r\n          <th>Apellidos</th>\r\n          <th>Acciones</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let est of subject.estudiantes\">\r\n          <td>{{ est.codigoEstudiante }}</td>\r\n          <td>{{ est.nombres }}</td>\r\n          <td>{{ est.apellidos }}</td>\r\n          <td>\r\n            <button class=\"btn btn-danger btn-sm\" (click)=\"desvincularEstudiante(est._id)\">\r\n              Desvincular\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div *ngIf=\"subject.estudiantes.length === 0\" class=\"alert alert-warning text-center\">\r\n      No hay estudiantes asignados a esta materia.\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #loading>\r\n  <div class=\"container mt-4\">\r\n    <div class=\"alert alert-info text-center\">\r\n      Cargando datos de la materia...\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ActivatedRoute, RouterModule } from '@angular/router';\r\nimport { SubjectService } from '../../services/subject.service';\r\nimport { Student } from '../../models/student.model';\r\nimport { User } from '../../models/user.model';\r\n\r\n@Component({\r\n  standalone: true,\r\n  selector: 'app-subject-detail',\r\n  imports: [CommonModule, RouterModule],\r\n  templateUrl: './subject-detail.component.html'\r\n})\r\nexport class SubjectDetailComponent implements OnInit {\r\n  subject: any = null;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private subjectService: SubjectService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    const id = this.route.snapshot.paramMap.get('id');\r\n    if (id) {\r\n      this.subjectService.getSubjectById(id).subscribe(subject => {\r\n        this.subject = subject;\r\n      });\r\n    }\r\n  }\r\n\r\n  desvincularEstudiante(estudianteId: string) {\r\n    if (!this.subject?._id) return;\r\n\r\n    const confirmacion = confirm('¬øEst√°s seguro de desvincular al estudiante?');\r\n    if (!confirmacion) return;\r\n\r\n    this.subjectService.removeEstudianteFromSubject(this.subject._id, estudianteId).subscribe({\r\n      next: () => {\r\n        this.subject!.estudiantes = this.subject!.estudiantes.filter((est: Student) => est._id !== estudianteId);\r\n      },\r\n      error: err => {\r\n        console.error('Error al desvincular estudiante:', err);\r\n        alert('Error al desvincular estudiante');\r\n      }\r\n    });\r\n  }\r\n\r\n  desvincularProfesor(profesorId: string) {\r\n    if (!this.subject?._id) return;\r\n\r\n    const confirmacion = confirm('¬øEst√°s seguro de desvincular al profesor?');\r\n    if (!confirmacion) return;\r\n\r\n    this.subjectService.removeProfesorFromSubject(this.subject._id, profesorId).subscribe({\r\n      next: () => {\r\n        this.subject!.profesores = this.subject!.profesores.filter((prof: User) => prof._id !== profesorId);\r\n      },\r\n      error: err => {\r\n        console.error('Error al desvincular profesor:', err);\r\n        alert('Error al desvincular profesor');\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n"],"x_google_ignoreList":[]}
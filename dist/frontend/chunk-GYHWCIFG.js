import{a as W,b as D,c as A,d as F,e as R,f as q,g as z,k as B,n as P}from"./chunk-KCB7IB6P.js";import{a as L}from"./chunk-YXKEXZIP.js";import{b as N,d as T,h as U}from"./chunk-A7GR7GC6.js";import"./chunk-K7YZQKDG.js";import{$a as b,Bb as E,Db as I,Eb as V,Ia as S,Ka as g,Ma as r,Na as o,Pa as C,Qa as x,Ra as l,Va as M,Wa as s,Ya as h,Z as j,ab as f,bb as _,db as v,fb as y,ga as u,gb as w,ha as c,va as d,wa as p}from"./chunk-ZTNMYY3J.js";var G=(n,m)=>({"alert-success":n,"alert-danger":m});function H(n,m){if(n&1&&(r(0,"div",14),s(1),o()),n&2){let e=l(2);g("ngClass",y(2,G,e.updateMessage.includes("\xE9xito"),e.updateMessage.includes("error"))),d(),h(" ",e.updateMessage," ")}}function O(n,m){if(n&1){let e=C();r(0,"div")(1,"form",4),x("ngSubmit",function(){u(e);let i=l();return c(i.onSubmit())}),r(2,"div",5)(3,"label",6),s(4,"Nombre"),o(),r(5,"input",7),_("ngModelChange",function(i){u(e);let a=l();return f(a.subject.nombre,i)||(a.subject.nombre=i),c(i)}),o()(),r(6,"div",5)(7,"label",8),s(8,"Grado"),o(),r(9,"input",9),_("ngModelChange",function(i){u(e);let a=l();return f(a.subject.grado,i)||(a.subject.grado=i),c(i)}),o()(),r(10,"div",5)(11,"label",10),s(12,"Periodo"),o(),r(13,"input",11),_("ngModelChange",function(i){u(e);let a=l();return f(a.subject.periodo,i)||(a.subject.periodo=i),c(i)}),o()(),r(14,"button",12),s(15,"Actualizar"),o()(),S(16,H,2,5,"div",13),o()}if(n&2){let e=l();d(5),b("ngModel",e.subject.nombre),d(4),b("ngModel",e.subject.grado),d(4),b("ngModel",e.subject.periodo),d(3),g("ngIf",e.updateMessage)}}function k(n,m){n&1&&(r(0,"p"),s(1,"Cargando la materia..."),o())}var te=(()=>{class n{constructor(e,t,i){this.subjectService=e,this.route=t,this.router=i,this.subject=null,this.updateMessage=null}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.subjectService.getSubjectById(e).subscribe(t=>{this.subject=t},t=>{console.error("Error al cargar la materia",t)})}onSubmit(){if(this.subject){let e=this.route.snapshot.paramMap.get("id");e&&this.subjectService.updateSubject(e,this.subject).subscribe(t=>{this.updateMessage="Materia actualizada con \xE9xito!",setTimeout(()=>this.router.navigate(["/subject-list"]),1e3)},t=>{this.updateMessage="Hubo un error al actualizar la materia.",console.error("Error al actualizar materia",t)})}}static{this.\u0275fac=function(t){return new(t||n)(p(L),p(N),p(T))}}static{this.\u0275cmp=j({type:n,selectors:[["app-subject-update"]],standalone:!0,features:[v],decls:6,vars:2,consts:[["loading",""],[1,"container","mt-4"],[1,"mb-4"],[4,"ngIf","ngIfElse"],[3,"ngSubmit"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","grado",1,"form-label"],["type","text","id","grado","name","grado","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","periodo",1,"form-label"],["type","number","id","periodo","name","periodo","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","mt-4 alert",3,"ngClass",4,"ngIf"],[1,"mt-4","alert",3,"ngClass"]],template:function(t,i){if(t&1&&(r(0,"div",1)(1,"h2",2),s(2,"\u{1F4DA} Editar Materia"),o(),S(3,O,17,4,"div",3)(4,k,2,0,"ng-template",null,0,w),o()),t&2){let a=M(5);d(3),g("ngIf",i.subject)("ngIfElse",a)}},dependencies:[V,E,I,U,P,q,W,z,D,A,B,R,F]})}}return n})();export{te as SubjectUpdateComponent};

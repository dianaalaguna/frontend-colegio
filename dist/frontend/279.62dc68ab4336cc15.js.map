{"version":3,"file":"279.62dc68ab4336cc15.js","mappings":"6RAeUA,MAFJ,OAEIA,CAFiC,OAEjCA,CADE,SAEAA,MAAA,GAEJA,UACAA,MAAA,QAAIA,MAAA,GAAmBA,QACvBA,MAAA,QAAIA,MAAA,GAAqBA,QAGvBA,MAFF,OAEEA,CAFE,SAGAA,MAAA,eACFA,QAGAA,MAAA,eAAsCA,MAAA,yBAAAC,EAAAD,MAAAE,GAAAC,UAAAC,EAAAJ,QAAA,OAAAA,MAASI,EAAAC,cAAAJ,EAAAK,KAA0B,GACvEN,MAAA,iBAGNA,wCAjBOA,MAAA,GAAAA,MAAA,aAAAA,MAAA,EAAAO,EAAAN,EAAAK,MACDN,cAAA,IAAAC,EAAAO,OAAA,KAGAR,MAAA,GAAAA,MAAAC,EAAAQ,OACAT,MAAA,GAAAA,MAAAC,EAAAS,SAGCV,MAAA,GAAAA,MAAA,aAAAA,MAAA,EAAAW,EAAAV,EAAAK,6BAaXN,MAAA,YACEA,MAAA,oCACFA,kCAGAA,MAAA,YACEA,MAAA,GACFA,8BADEA,cAAA,IAAAI,EAAAQ,cAAA,MC/BG,IAAMC,EAAoB,MAA3B,MAAOA,EAIXC,YAAoBC,GAAAC,KAAAD,iBAHpBC,KAAAC,SAAkB,GAClBD,KAAAJ,cAA+B,IAEsB,CAErDM,WACEF,KAAKG,cACP,CAEAA,eACEH,KAAKD,eAAeK,uBAAuBC,UAAUC,IACnDN,KAAKC,SAAWK,GAEpB,CAEAjB,cAAckB,GACUC,OAAOC,QAAQ,6DAGrCT,KAAKD,eAAeV,cAAckB,GAAIF,UAAU,CAC9CK,KAAMA,KAEJV,KAAKC,SAAWD,KAAKC,SAASU,OAAOC,GAAWA,EAAQtB,MAAQiB,GAChEP,KAAKJ,cAAgB,8CAGrBiB,WAAW,KACTb,KAAKJ,cAAgB,MACpB,IAAI,EAETkB,MAAOC,IACLC,QAAQF,MAAM,6BAA8BC,GAC5CE,MAAM,8CAA0C,GAGtD,iDApCWpB,GAAoBb,MAAAkC,KAAA,oCAApBrB,EAAoBsB,UAAA,uBAAAC,YAAA,EAAAC,SAAA,CAAArC,OAAAsC,MAAA,GAAAC,KAAA,EAAAC,OAAA,2aAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,IDV/B1C,MADF,UACEA,CAD0B,UACTA,MAAA,wBAAWA,QAKtBA,MAHN,YAGMA,CAH0C,YAG1CA,CAFsB,OAEtBA,CADE,QACEA,MAAA,YAAMA,QACVA,MAAA,QAAIA,MAAA,WAAKA,QACTA,MAAA,SAAIA,MAAA,cAAOA,QACXA,MAAA,SAAIA,MAAA,eAERA,YACAA,MAAA,YACEA,MAAA,GAAA4C,EAAA,aAqBJ5C,UAOAA,MALA,GAAA6C,EAAA,YAKA7C,CALwE,GAAA8C,EAAA,aAQ1E9C,eA/B8BA,MAAA,IAAAA,MAAA,UAAA2C,EAAA1B,UAuBtBjB,cAAA,WAAA2C,EAAA1B,SAAA8B,QAKA/C,cAAA,OAAA2C,EAAA/B,+BCjCIoC,KAAYC,UAAEC,KAAYC,MAAAC,cAAA,YAGzBvC,CAAoB","names":["i0","subject_r2","_r1","$implicit","ctx_r2","deleteSubject","_id","_c0","nombre","grado","periodo","_c1","deleteMessage","SubjectListComponent","constructor","subjectService","this","subjects","ngOnInit","loadSubjects","getSubjectsWithUsers","subscribe","data","id","window","confirm","next","filter","subject","setTimeout","error","err","console","alert","i1","selectors","standalone","features","decls","vars","consts","template","rf","ctx","SubjectListComponent_tr_15_Template","SubjectListComponent_div_16_Template","SubjectListComponent_div_17_Template","length","CommonModule","i2","RouterModule","i3","encapsulation"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./src/app/pages/subject-list/subject-list.component.html","./src/app/pages/subject-list/subject-list.component.ts"],"sourcesContent":["<div class=\"container mt-4\">\r\n  <h2 class=\"mb-4\">📚 Materias</h2>\r\n\r\n  <table class=\"table table-bordered table-hover\">\r\n    <thead class=\"table-dark\">\r\n      <tr>\r\n        <th>Nombre</th>\r\n        <th>Grado</th>\r\n        <th>Periodo</th>\r\n        <th>Acciones</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let subject of subjects\">\r\n        <td>\r\n          <a [routerLink]=\"['/subject-detail', subject._id]\" class=\"text-decoration-none\">\r\n            {{ subject.nombre }}\r\n          </a>\r\n        </td>\r\n        <td>{{ subject.grado }}</td>\r\n        <td>{{ subject.periodo }}</td>\r\n        <td>\r\n          <!-- Botón Editar -->\r\n          <a [routerLink]=\"['/subject-update', subject._id]\" class=\"btn btn-success btn-sm me-2\">\r\n            Editar\r\n          </a>\r\n\r\n          <!-- Botón Eliminar -->\r\n          <button class=\"btn btn-danger btn-sm\" (click)=\"deleteSubject(subject._id)\">\r\n            Eliminar\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <div *ngIf=\"subjects.length === 0\" class=\"alert alert-info text-center\">\r\n    No hay materias registradas.\r\n  </div>\r\n\r\n  <!-- Mensaje de eliminación -->\r\n  <div *ngIf=\"deleteMessage\" class=\"alert alert-success mt-4\">\r\n    {{ deleteMessage }}\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SubjectService } from '../../services/subject.service';\r\n\r\n@Component({\r\n  standalone: true,\r\n  selector: 'app-subject-list',\r\n  imports: [CommonModule, RouterModule],\r\n  templateUrl: './subject-list.component.html'\r\n})\r\nexport class SubjectListComponent implements OnInit {\r\n  subjects: any[] = [];\r\n  deleteMessage: string | null = null; // Mensaje para la eliminación\r\n\r\n  constructor(private subjectService: SubjectService) {}\r\n\r\n  ngOnInit() {\r\n    this.loadSubjects();\r\n  }\r\n\r\n  loadSubjects(): void {\r\n    this.subjectService.getSubjectsWithUsers().subscribe(data => {\r\n      this.subjects = data;\r\n    });\r\n  }\r\n\r\n  deleteSubject(id: string): void {\r\n    const confirmDelete = window.confirm('¿Estás seguro de que deseas eliminar esta materia?');\r\n    if (!confirmDelete) return;\r\n\r\n    this.subjectService.deleteSubject(id).subscribe({\r\n      next: () => {\r\n        // Actualizar el listado después de la eliminación\r\n        this.subjects = this.subjects.filter(subject => subject._id !== id);\r\n        this.deleteMessage = 'La materia ha sido eliminada correctamente.'; // Mensaje de éxito\r\n\r\n        // Reiniciar el mensaje después de 3 segundos\r\n        setTimeout(() => {\r\n          this.deleteMessage = null;\r\n        }, 3000);\r\n      },\r\n      error: err => {\r\n        console.error('Error al eliminar materia:', err);\r\n        alert('Ocurrió un error al eliminar la materia.');\r\n      }\r\n    });\r\n  }\r\n}\r\n"],"x_google_ignoreList":[]}
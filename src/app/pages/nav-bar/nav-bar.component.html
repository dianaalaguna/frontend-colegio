<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4">
  <a class="navbar-brand" routerLink="/acercade">ConexiÃ³n Educativa SW</a>

  <div class="collapse navbar-collapse">
    <ul class="navbar-nav me-auto">
      <!-- Mostrar el menÃº para login si no estÃ¡ logueado -->
      <li class="nav-item" *ngIf="!isLoggedIn()">
        <a class="nav-link" id="usersDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false"
        routerLink="/login" routerLinkActive="active">ğŸ”‘ Login</a>
      </li>
      <li class="nav-item" *ngIf="!isLoggedIn()">
        <a class="nav-link" id="usersDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false"
        routerLink="/register" routerLinkActive="active">ğŸ“ Registro</a>
      </li>

      <!-- MenÃº para usuarios logueados -->
      <li class="nav-item dropdown" *ngIf="isLoggedIn()">
        <a class="nav-link dropdown-toggle" routerLink="/tasks" routerLinkActive="active">âœ… Tareas</a>
      </li>

      <!-- MenÃº Usuarios (Solo para Coordinador) -->
      <li class="nav-item dropdown" *ngIf="isLoggedIn() && user?.tipoUsuario?.type === 'Coordinador'">
        <a class="nav-link" id="usersDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false"
          routerLink="/usuarios">
          ğŸ‘¥ Usuarios
        </a>
        <!--<ul class="dropdown-menu" aria-labelledby="usersDropdown">
          <li><a class="dropdown-item" routerLink="/usuarios/modify">âœï¸ Modificar</a></li>
          <li><a class="dropdown-item" routerLink="/usuarios/delete">âŒ Eliminar</a></li>
        </ul>-->
      </li>

      <!-- MenÃº Asignaturas (Solo para Coordinador y Profesor) -->
      <li class="nav-item dropdown"
        *ngIf="isLoggedIn() && (user?.tipoUsuario?.type === 'Coordinador' || user?.tipoUsuario?.type === 'Profesor')">
        <a class="nav-link dropdown-toggle" href="#" id="assignmentsDropdown" role="button" data-bs-toggle="dropdown"
          aria-expanded="false" routerLink="/asignatura">
          ğŸ“š Asignaturas
        </a>
        <ul class="dropdown-menu" aria-labelledby="assignmentsDropdown">
          <li><a class="dropdown-item" routerLink="/asignatura" *ngIf="user?.tipoUsuario?.type === 'Coordinador'">â•
              Crear</a></li>
          <li><a class="dropdown-item" routerLink="/asignatura/assign-teacher"
              *ngIf="user?.tipoUsuario?.type === 'Coordinador'">ğŸ‘¨â€ğŸ« Asignar Profesor</a></li>
          <li><a class="dropdown-item" routerLink="/asignatura/assign-student"
              *ngIf="user?.tipoUsuario?.type === 'Coordinador'">ğŸ‘©â€ğŸ“ Asignar Estudiante</a></li>
          <li><a class="dropdown-item" routerLink="/asignatura/remove-student"
              *ngIf="user?.tipoUsuario?.type === 'Coordinador'">âŒ Quitar Estudiante</a></li>
          <li><a class="dropdown-item" routerLink="/asignatura/students-list"
              *ngIf="(user?.tipoUsuario?.type === 'Coordinador' || user?.tipoUsuario?.type === 'Profesor')">ğŸ“‹ Lista de
              Estudiantes</a></li>
        </ul>
      </li>

      <!-- MenÃº Estudiantes (Solo para Coordinador) -->
      <li class="nav-item dropdown" *ngIf="isLoggedIn() && (user?.tipoUsuario?.type === 'Coordinador')">
        <a class="nav-link dropdown-toggle" href="#" id="studentsDropdown" role="button" data-bs-toggle="dropdown"
          aria-expanded="false" routerLink="/estudiantes">
          ğŸ‘¨â€ğŸ“ Estudiantes
        </a>
        <ul class="dropdown-menu" aria-labelledby="studentsDropdown">
          <li><a class="dropdown-item" routerLink="/estudiantes/create">â• Crear</a></li>
          <li><a class="dropdown-item" routerLink="/estudiantes/modify">âœï¸ Modificar</a></li>
        </ul>
      </li>

      <!-- MenÃº Ver (Solo para Coordinador, Profesor y Padre de Familia) -->
      <li class="nav-item dropdown"
        *ngIf="isLoggedIn() && (user?.tipoUsuario?.type === 'Coordinador' || user?.tipoUsuario?.type === 'Profesor' || user?.tipoUsuario?.type === 'Padre de Familia')">
        <a class="nav-link dropdown-toggle" href="#" id="viewDropdown" role="button" data-bs-toggle="dropdown"
          aria-expanded="false" routerLink="estudiantes">
          ğŸ‘ï¸ Ver
        </a>
        <ul class="dropdown-menu" aria-labelledby="viewDropdown">
          <li><a class="dropdown-item" routerLink="/ver/materias"
              *ngIf="(user?.tipoUsuario?.type === 'Coordinador' || user?.tipoUsuario?.type === 'Profesor')">ğŸ“š
              Materias</a></li>
          <li><a class="dropdown-item" routerLink="estudiantes">ğŸ‘¨â€ğŸ“ Estudiantes</a></li>
        </ul>
      </li>

      <!-- MenÃº Acerca de (Visible para todos los usuarios) -->
      <div *ngIf="isLoggedIn()">
        <li class="nav-item dropdown">
          <a class="nav-link" id="usersDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false"
            routerLink="/acercade">
            â„¹ï¸ Acerca de
          </a>
        </li>
      </div>
    </ul>

    <!-- Mostrar nombre y rol del usuario -->
    <div *ngIf="isLoggedIn()">
      <span class="navbar-text text-white me-3">
        ğŸ‘¤ {{ user?.nombres }} {{ user?.apellidos }} ({{ user?.tipoUsuario?.type }})
      </span>
      <button class="btn btn-outline-light" (click)="logout()">Cerrar sesiÃ³n</button>
    </div>
  </div>
</nav>

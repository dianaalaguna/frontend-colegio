<div class="container mt-5" style="max-width: 500px;">
  <div class="card shadow-sm">
    <div class="card-body">
      <h3 class="card-title text-center mb-4">üìù Registro de Usuario</h3>

      <form #registroForm="ngForm" (ngSubmit)="onSubmit()">
        <!-- Email / Username -->
        <div class="mb-3">
          <label for="username" class="form-label">Correo electr√≥nico</label>
          <input
            type="email"
            id="username"
            name="username"
            [(ngModel)]="formData.username"
            required
            email
            #emailInput="ngModel"
            class="form-control"
            [ngClass]="{ 'is-invalid': emailInput.invalid && emailInput.touched }"
            placeholder="ejemplo@correo.com"
          />
          <div *ngIf="emailInput.invalid && emailInput.touched" class="invalid-feedback">
            <div *ngIf="emailInput.errors?.['required']">El correo es obligatorio.</div>
            <div *ngIf="emailInput.errors?.['email']">Formato de correo inv√°lido.</div>
          </div>
        </div>

        <!-- Password -->
        <div class="mb-3">
          <label for="password" class="form-label">Contrase√±a</label>
          <input
            type="password"
            id="password"
            name="password"
            [(ngModel)]="formData.password"
            required
            minlength="6"
            #passwordInput="ngModel"
            class="form-control"
            [ngClass]="{ 'is-invalid': passwordInput.invalid && passwordInput.touched }"
            placeholder="********"
          />
          <div *ngIf="passwordInput.invalid && passwordInput.touched" class="invalid-feedback">
            <div *ngIf="passwordInput.errors?.['required']">La contrase√±a es obligatoria.</div>
            <div *ngIf="passwordInput.errors?.['minlength']">
              La contrase√±a debe tener al menos 6 caracteres.
            </div>
          </div>
        </div>

        <!-- Nombres -->
        <div class="mb-3">
          <label for="nombres" class="form-label">Nombres</label>
          <input
            type="text"
            id="nombres"
            name="nombres"
            [(ngModel)]="formData.nombres"
            required
            #nombresInput="ngModel"
            class="form-control"
            [ngClass]="{ 'is-invalid': nombresInput.invalid && nombresInput.touched }"
          />
          <div *ngIf="nombresInput.invalid && nombresInput.touched" class="invalid-feedback">
            El nombre es obligatorio.
          </div>
        </div>

        <!-- Apellidos -->
        <div class="mb-3">
          <label for="apellidos" class="form-label">Apellidos</label>
          <input
            type="text"
            id="apellidos"
            name="apellidos"
            [(ngModel)]="formData.apellidos"
            required
            #apellidosInput="ngModel"
            class="form-control"
            [ngClass]="{ 'is-invalid': apellidosInput.invalid && apellidosInput.touched }"
          />
          <div *ngIf="apellidosInput.invalid && apellidosInput.touched" class="invalid-feedback">
            El apellido es obligatorio.
          </div>
        </div>

        <!-- Tel√©fono -->
        <div class="mb-3">
          <label for="telefono" class="form-label">Tel√©fono</label>
          <input
            type="text"
            id="telefono"
            name="telefono"
            [(ngModel)]="formData.telefono"
            #telefonoInput="ngModel"
            class="form-control"
            placeholder="Ej: 3001234567"
          />
        </div>

        <!-- Tipo de Usuario (select) -->
        <div class="mb-3">
          <label for="tipoUsuario" class="form-label">Tipo de Usuario</label>
          <select
            id="tipoUsuario"
            name="tipoUsuario"
            [(ngModel)]="formData.tipoUsuario"
            required
            #tipoUsuarioInput="ngModel"
            class="form-control"
            [ngClass]="{ 'is-invalid': tipoUsuarioInput.invalid && tipoUsuarioInput.touched }"
          >
            <option value="" disabled selected>Seleccione un tipo</option>
            <option *ngFor="let tipo of userTypes" [value]="tipo._id">
              {{ tipo.type }}
            </option>
          </select>
          <div *ngIf="tipoUsuarioInput.invalid && tipoUsuarioInput.touched" class="invalid-feedback">
            Seleccione un tipo de usuario.
          </div>
        </div>

        <button type="submit" class="btn btn-success w-100" [disabled]="registroForm.invalid">
          Registrarse
        </button>
      </form>
    </div>
  </div>
</div>
